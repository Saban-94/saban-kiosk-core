<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Sika Data Loader</title>
    <style>body{font-family:sans-serif;padding:20px;background:#f4f4f9;text-align:center}.btn{background:#E3000F;color:white;padding:15px 30px;font-size:20px;border:none;cursor:pointer;border-radius:8px;margin:10px;}.btn:hover{background:#c4000d}#log{background:#222;color:#0f0;text-align:left;padding:20px;height:300px;overflow-y:auto;margin-top:20px;direction:ltr;border-radius:8px;}</style>
</head>
<body>
    <h1>ğŸš€ ×˜×¢×™× ×ª × ×ª×•× ×™× - Sika</h1>
    <p>×§×•×‘×¥ ×–×” ×™×˜×¢×Ÿ 50 ××•×¦×¨×™× ×•-50 ×©×™×—×•×ª ×©×œ Sika ×œ×××’×¨.</p>
    <button class="btn" onclick="startUpload()">×”×ª×—×œ ×˜×¢×™× ×” (Sika)</button>
    <div id="log">×××ª×™×Ÿ...</div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
        import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore.js";

        // 1. ×”×’×“×¨×•×ª Firebase (×”×“×‘×§ ××ª ×©×œ×š ×›××Ÿ ×× ×–×” ×©×•× ×”)
        const firebaseConfig = {
          apiKey: "AIzaSyDZuI7AaDZVteUhUT_eIVCR5SIdU0jhqUg",
          authDomain: "saban-kiosk-core.firebaseapp.com",
          projectId: "saban-kiosk-core"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        const logEl = document.getElementById('log');

        // 2. ×”× ×ª×•× ×™× (××•×˜××¢×™× ×‘×¤× ×™× ×œ×× ×™×¢×ª ×©×’×™××•×ª)
        const products = [
            // ×”×¢×ª×§ ×œ×›××Ÿ ××ª 50 ×”××•×¦×¨×™× ×©×œ Sika ××”×©×™×—×” ×”×§×•×“××ª (sikaProductsFull)
            // ×œ×“×•×’××”:
            { name: "Sikalastic 560", brand: "Sika", category: "××™×˜×•×", tech: { coverage: "1.5", drying: "24h" } },
            { name: "SikaTop 107 Seal", brand: "Sika", category: "××™×˜×•×", tech: { coverage: "4", drying: "6h" } },
            // ... (×”××©×š ×œ×”×¢×ª×™×§ ××ª ×›×œ ×”×¨×©×™××” ×©×™×¦×¨× ×•)
        ];

        const chats = [
            // ×”×¢×ª×§ ×œ×›××Ÿ ××ª 50 ×”×©×™×—×•×ª ×©×œ Sika (sikaSoul)
            { trigger: "××™×˜×•× ×’×’", response: "×× ×™ ×××œ×™×¥ ×¢×œ Sikalastic 560..." },
            // ...
        ];

        // 3. ×œ×•×’×™×§×ª ×˜×¢×™× ×”
        window.startUpload = async () => {
            logEl.innerHTML = "××ª×—×™×œ ×ª×”×œ×™×š...<br>";
            
            // ×˜×¢×™× ×ª ××•×¦×¨×™×
            for (const p of products) {
                try {
                    await addDoc(collection(db, "products"), p);
                    logEl.innerHTML += `âœ… ××•×¦×¨ × ×˜×¢×Ÿ: ${p.name}<br>`;
                } catch (e) { logEl.innerHTML += `âŒ ×©×’×™××”: ${e.message}<br>`; }
            }

            // ×˜×¢×™× ×ª ×©×™×—×•×ª
            for (const c of chats) {
                try {
                    await addDoc(collection(db, "chat_rules"), c);
                    logEl.innerHTML += `âœ… ×©×™×—×” × ×˜×¢× ×”: ${c.trigger}<br>`;
                } catch (e) { logEl.innerHTML += `âŒ ×©×’×™××”: ${e.message}<br>`; }
            }
            
            logEl.innerHTML += "ğŸ <b>×”×ª×”×œ×™×š ×”×¡×ª×™×™× ×‘×”×¦×œ×—×”!</b><br>";
            logEl.scrollTop = logEl.scrollHeight;
        };
    </script>
</body>
</html>
